<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mostrar Dados</title>
</head>
<body>
    <form action="{% url 'mostrarDadosBD' %}" method="GET">

        <h2>Automóveis</h2>
        <table border="1">
            <tr>
                <th>ID</th>
                <th>VIN</th>
                <th>ID Seguradora</th>
                <th>ID Utilizador</th>
                <th>Marca</th>
                <th>Modelo</th>
                <th>Ano</th>
                <th>Quilometragem</th>
                <th>Preço</th>
                <th>Estado</th>
                <th>Cor</th>
                <th>Extras</th>
            </tr>
            {% for auto in automoveis %}
            <tr>
                <td>{{ auto.id_automovel }}</td>
                <td>{{ auto.vin }}</td>
                <td>{{ auto.id_seguradora_id }}</td>
                <td>{{ auto.id_utilizador_id }}</td> 
                <td>{{ auto.marca }}</td>
                <td>{{ auto.modelo }}</td>
                <td>{{ auto.ano }}</td>
                <td>{{ auto.quilometragem }}</td>
                <td>{{ auto.preco }}</td>
                <td>{{ auto.estado }}</td>
                <td>{{ auto.cor }}</td>
                <td>{{ auto.extras }}</td>
            </tr>
            {% empty %}
            <tr><td colspan="14">Nenhum automóvel encontrado.</td></tr>
            {% endfor %}
        </table>

        <h2>Seguradoras</h2>
        <table border="1">
            <tr>
                <th>ID</th>
                <th>NIF</th>
                <th>Nome</th>
                <th>Email</th>
            </tr>
            {% for seg in seguradoras %}
            <tr>
                <td>{{ seg.id_seguradora }}</td>
                <td>{{ seg.nif_seguradora }}</td>
                <td>{{ seg.nome }}</td>
                <td>{{ seg.email }}</td>
            </tr>
            {% empty %}
            <tr><td colspan="4">Nenhuma seguradora encontrada.</td></tr>
            {% endfor %}
        </table>

        <h2>Faturas</h2>
        <table border="1">
            <tr>
                <th>ID</th>
                <th>ID Venda</th>
                <th>Data</th>
                <th>Forma de Pagamento</th>
            </tr>
            {% for fat in faturas %}
            <tr>
                <td>{{ fat.id_fatura }}</td>
                <td>{{ fat.id_venda_id }}</td>
                <td>{{ fat.data_fatura }}</td>
                <td>{{ fat.forma_pagamento }}</td>
            </tr>
            {% empty %}
            <tr><td colspan="4">Nenhuma fatura encontrada.</td></tr>
            {% endfor %}
        </table>

        <h2>Tipo de Utilizadores</h2>
        <table border="1">
            <tr>
                <th>ID_Tipo_Utilizador</th>
                <th>Descrição</th>
            </tr>
            {% for tipo in tipos_utilizadores %}
            <tr>
                <td>{{ tipo.id_tipo_utilizador }}</td>
                <td>{{ tipo.descricao }}</td>
            </tr>
            {% empty %}
            <tr><td colspan="2">Nenhum tipo de utilizador encontrado.</td></tr>
            {% endfor %}
        </table>

        <h2>Utilizadores</h2>
        <table border="1">
            <tr>
                <th>NIF</th>
                <th>ID Tipo Utilizador</th>
                <th>Nome</th>
                <th>Morada</th>
                <th>Email</th>
                <th>Data de Criação</th>
                <th>Estado</th>
            </tr>
            {% for util in utilizadores %}
            <tr>
                <td>{{ util.nif }}</td>
                <td>{{ util.id_tipo_utilizador_id }}</td>
                <td>{{ util.nome }}</td>
                <td>{{ util.morada }}</td>
                <td>{{ util.email }}</td>
                <td>{{ util.data_criacao }}</td>
                <td>{{ util.estado }}</td>
            </tr>
            {% empty %}
            <tr><td colspan="7">Nenhum utilizador encontrado.</td></tr>
            {% endfor %}
    </form>
</body>
</html>
